<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Snake</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
    <style type="text/css">
      body {
        margin: 0;
        text-align: center;
      }
      main {
        margin: 20px auto;
      }
    </style>
  </head>
  <body>
    <main>
      <script type="text/javascript">
        const config = {
          type: Phaser.AUTO,
          width: 800,
          height: 600,
          backgroundColor: "#a0d9b0",
          scene: {
            preload: preload,
            create: create,
            update: update,
          },
        };

        const game = new Phaser.Game(config);
        const snakeBody = [];

        function preload() {}

        function create() {
          const graphics = this.add.graphics();
          const gridSize = 25; // Size of each grid cell

          // Set the line style
          graphics.lineStyle(1, 0xffffff, 1);

          // Draw horizontal lines
          for (let y = 0; y < this.game.config.height; y += gridSize) {
            graphics.moveTo(0, y);
            graphics.lineTo(this.game.config.width, y);
          }

          // Draw vertical lines
          for (let x = 0; x < this.game.config.width; x += gridSize) {
            graphics.moveTo(x, 0);
            graphics.lineTo(x, this.game.config.height);
          }

          // Stroke the lines to make them visible
          graphics.strokePath();

          // Calculate random grid position for the starting position
          const gridColumns = Math.floor(this.game.config.width / gridSize);
          const gridRows = Math.floor(this.game.config.height / gridSize);

          const randomColumn = Phaser.Math.Between(0, gridColumns - 1);
          const randomRow = Phaser.Math.Between(0, gridRows - 1);

          const startX = randomColumn * gridSize + gridSize / 2;
          const startY = randomRow * gridSize + gridSize / 2;

          // Create the rectangle
          const bodyPart = new Phaser.GameObjects.Rectangle(
            this,
            startX,
            startY,
            gridSize,
            gridSize,
            0xfcba03
          );
          this.add.existing(bodyPart);
        }

        function update() {}
      </script>
    </main>
  </body>
</html>
